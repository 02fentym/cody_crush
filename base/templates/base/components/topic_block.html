<details class="block-margin-small" id="topic-{{ topic.id }}">
    <summary>
        <strong>{{ topic.title }}</strong> - Progress: {{ topic.progress }}%
        {% if user.profile.role == "teacher" %}
        {% include "base/components/delete_topic_form.html" with topic=topic %}
        {% endif %}
    </summary>

    <ul class="list-indent">
        {% for activity in topic.activity_set.all %}
        {% include "base/components/activity_block.html" with activity=activity %}
        {% endfor %}
    </ul>

    {% if user.profile.role == "teacher" %}
    <a href="{% url 'create-lesson' topic.id %}" class="link-button">
        ➕ Add Lesson
    </a>

    <button onclick="toggleForm('add-quiz-form-{{ topic.id }}')" class="link-button mt-10 inline-block">
        ➕ Add Quiz
    </button>

    {% include "base/components/add_quiz_form.html" with topic=topic %}

    {% endif %}

</details>