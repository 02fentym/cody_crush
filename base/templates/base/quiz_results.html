{% extends "main.html" %}

{% block content %}
<h2>{{ quiz.topic.title }} - Results</h2>

{% for item in results %}
    <div>
        <p><strong>{{ forloop.counter }}. {{ item.question.prompt }}</strong></p>

        {% if question_type == "multiple_choice" %}
            <div>a) {{ item.question.choice_a }}</div>
            <div>b) {{ item.question.choice_b }}</div>
            <div>c) {{ item.question.choice_c }}</div>
            <div>d) {{ item.question.choice_d }}</div>

            <p>Your answer: {{ item.answer.selected_choice }}</p>
            <p>Correct answer: {{ item.question.correct_choice }}</p>

            {% if item.answer.selected_choice == item.question.correct_choice %}
                <span style="color: green;">✅ Correct</span>
            {% else %}
                <span style="color: red;">❌ Incorrect</span>
            {% endif %}

        {% elif question_type == "tracing" %}
            <p>Your answer:</p>
            <pre>{{ item.answer.selected_choice }}</pre>

            <p>Expected output:</p>
            <pre>{{ item.question.expected_output }}</pre>

            {% if item.answer.is_correct %}
                <span style="color: green;">✅ Correct</span>
            {% else %}
                <span style="color: red;">❌ Incorrect</span>
            {% endif %}
        {% endif %}

        <hr>
    </div>
{% endfor %}
{% endblock %}