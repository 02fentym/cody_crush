{% extends "main.html" %}

{% block content %}

<h1>{{ quiz.topic.title }} Quiz</h1>

<form method="POST" action="" class="vertical-form">
    {% csrf_token %}

    <div>
        {% for question in questions %}
        <div class="quiz-question">
            <p class="quiz-prompt">
                <strong>{{ forloop.counter }}.</strong> {{ question.prompt|safe }}
            </p>

            {% if quiz.question_type == "multiple_choice" %}
                <div class="quiz-option">
                    <input type="radio" name="q{{ question.id }}" value="a" required>
                    <span>a) {{ question.choice_a|safe }}</span>
                </div>
                <div class="quiz-option">
                    <input type="radio" name="q{{ question.id }}" value="b">
                    <span>b) {{ question.choice_b|safe }}</span>
                </div>
                <div class="quiz-option">
                    <input type="radio" name="q{{ question.id }}" value="c">
                    <span>c) {{ question.choice_c|safe }}</span>
                </div>
                <div class="quiz-option">
                    <input type="radio" name="q{{ question.id }}" value="d">
                    <span>d) {{ question.choice_d|safe }}</span>
                </div>
                <hr>
            {% elif quiz.question_type == "tracing" %}
                <label for="q{{ question.id }}" class="form-label">What's the output?</label>
                <textarea name="q{{ question.id }}" rows="4" class="quiz-textarea" required></textarea>
            {% else %}
                <p class="quiz-error">Unsupported question type.</p>
            {% endif %}
        </div>
        {% endfor %}
    </div>

    <button type="submit" class="add-button quiz-submit">Submit Quiz</button>
</form>

{% endblock %}
