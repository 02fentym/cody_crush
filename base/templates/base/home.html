{% extends "main.html" %}

{% block content %}

<!--
{% if user.profile.role == "student" %}
{% include "base/components/course_enrolment_form.html" %}
{% endif %}
-->

<h1>Courses</h1>

<!-- List of courses -->
{% if courses %}
<div class="flex flex-wrap gap-4">
    {% for course in courses %}
    <div class="card card-sm card-border bg-base-100 w-96 shadow-sm hover:shadow-md relative">
        {% if user.profile.role == "teacher" %}

        <!-- Delete course -->
        <div class="absolute top-2 right-2">
            {% include "base/components/delete_course_form.html" with course=course %}
        </div>
        {% endif %}

        <a href="{% url 'course' course.id %}" class="block">
            <div class="card-body">
                <span class="card-title">{{ course.title }}</span>
                <p>{{ course.description }}</p>
            </div>
        </a>
    </div>
    {% endfor %}
    {% else %}
    <p class="empty-message">No courses yet.</p>
    {% endif %}

    <!-- Create New Course -->
    {% if user.profile.role == "teacher" %}
    {% include "base/components/create_course_form.html" %}
    {% endif %}
</div>


<!-- Upload Questions -->
<!--
{% if user.profile.role == "teacher" %}
<h2>Upload Questions</h2>
<div class="course-card">
    {% include "base/components/upload_questions_form.html" %}
</div>
{% endif %}
-->

{% endblock %}